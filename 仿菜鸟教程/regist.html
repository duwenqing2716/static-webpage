<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>注册登录页</title>
		<link rel="stylesheet" type="text/css" href="http://at.alicdn.com/t/font_1925733_36ehrjq2ono.css" />
		<link rel="stylesheet" type="text/css" href="css/bootstrap.css" />
		<script src="js/jquery.js"></script>
		<script src="js/bootstrap.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/vue@2.5.16/dist/vue.js"></script>
		<link rel="stylesheet" type="text/css" href="css/regist.css" />
	</head>
	<body>
		<div class="wbg">
		<div class="container">
			<div class="photo-img">
			<div class="panel">
				<div class="content">
					<div class="switch">
						<button type="button" id="login"  class="active4">Login</button>
						<span style="color: floralwhite;font-size: 22px;">/</span>
						<button type="button" id="signup"  class="">Sign Up</button>
					</div>
					<div class="form-ls">
					<form action="" method="" class="input-group" id="type1">
						<p id="name">USERNAME</p>
						<input type="text" name="" id="type3" value=""/>
						<font></font>
						<div id="look">
							<p id="passeard">PASSWARD</p>
							<input type="password" name="" id="work" value=""/>
							<font></font>
							<img id="demo_img" src="img/显示.png">
						</div>
						<div class="button-wrapper">
							<svg width='180' height='40'>
								<rect class="rectangle" width='180' height='40'></rect>
							</svg>
							<div class="btn" id="log">Login In</div>
						</div>
						<!-- <button type="button" id="log">LOGIN</button> -->
						<span>Forget？</span>
					</form>
					<form action="" method="" class="input-group input-group2" id="type2">
						<p id="name1">Email</p>
						<input type="email" name="" id="email" value=""/>
						<font></font>
						<p id="name2">Username</p>
						<input type="text" name="" id="username" value=""/>
						<font></font>
						<div id="look1">
							<img id="demo_img1" src="img/显示.png">
							<p id="name3">Passward</p>
						<input type="password" name="" id="work1" value=""/>
						<font></font>
						</div>
						<div id="look1">
							<img id="demo_img2" src="img/显示.png">
							<p id="name4">Repeat</p>
						<input type="password" name="" id="repeat" value=""/>
						<font></font>
						</div>
						<div class="span">
							<button type="button" id="sign">Sign Up</button>
						</div>
					</form>
				</div>
			</div>
		    </div>
		</div>
		</div>
		<script type="text/javascript">
			// title切换
			$('#signup').click(function(a,b){
				$('#type1').stop().animate({
						marginLeft:-225+'px'
					},1000)
					$('#login').removeClass('active4');
					$(this).attr('class','active4');
			})
			$('#login').click(function(){
				$('#type1').stop().animate({
						marginLeft:50+'px'
					},1000)
					$('#signup').removeClass('active4');
					$(this).attr('class','active4')
			})
		    // 图标切换
			$('#demo_img').click(function(){
				if($("#work").attr("type")== "password"){
					$(this).attr('src','img/隐藏.png')
					$('#work').attr("type",'text')
				}else{
					$(this).attr('src','img/显示.png')
					$('#work').attr("type",'password')
				}
			})
			$('#demo_img1').click(function(){
				if($("#work1").attr("type")== "password"){
					$(this).attr('src','img/隐藏.png')
					$('#work1').attr("type",'text')
				}else{
					$(this).attr('src','img/显示.png')
					$('#work1').attr("type",'password')
				}
			})
			$('#demo_img2').click(function(){
				if($("#repeat").attr("type")== "password"){
					$(this).attr('src','img/隐藏.png')
					$('#repeat').attr("type",'text')
				}else{
					$(this).attr('src','img/显示.png')
					$('#repeat').attr("type",'password')
				}
			})
			// 输入框交互动画
			$('#type1 input').on('click',function(a,b){
				$(this).prev().animate({
					top:70+'px'
				},500)
			})
			$('#type1 input').on('blur',function(a,b){
				$(this).prev().animate({
					top:90+'px'
				},500)
			})
			$('#type2 input').on('click',function(a,b){
				$(this).prev().animate({
					top:30+'px'
				},500)
			})
			$('#type2 input').on('blur',function(a,b){
				$(this).prev().animate({
					top:50+'px'
				},500)
			})
			// 表单验证
			$('#type3').blur(function(){
				var a=$(this).val()
				if(a==''){
					$('font').text('')
					return;	
				}
				var reg=/^\D.{2,7}$/;
				if(reg.test(a)){
					$('font').eq(0).text('验证通过')
					$('font').eq(0).attr('color','#58ff97')
				}else{
					$('font').eq(0).text('用户名输入有误')
					$('font').eq(0).attr('color','red')	
					$(this).val('')
				}	
			})
			$('#username').blur(function(){
				var a=$(this).val()
				if(a==''){
					$('font').text('')
					return;	
				}
				var a=$(this).val()
				var reg=/^\D.{2,7}$/;
				if(reg.test(a)){
					$('font').eq(3).text('验证通过')
					$('font').eq(3).attr('color','#58ff97')
				}else{
					$('font').eq(3).text('用户名必须3至8个字符,开头非数字')
					$('font').eq(3).attr('color','red')	
					$(this).val('')
				}	
			})
			$('#work').blur(function(){
				var a=$(this).val()
				if(a==''){
					$('font').text('')
					return;	
				}
				var a=$(this).val()
				var reg=/^\D.{5,17}$/;
				if(reg.test(a)){
					$('font').eq(1).text('验证通过')
					$('font').eq(1).attr('color','#58ff97')
				}else{
					$('font').eq(1).text('密码输入不正确')
					
					$('font').eq(1).attr('color','red')	
					$(this).val('')
				}	
			})
			$('#work1').blur(function(){
				var a=$(this).val()
				if(a==''){
					$('font').text('')
					return;	
				}
				var a=$(this).val()
				var reg=/^\D.{5,17}$/;
				if(reg.test(a)){
					$('font').eq(4).text('验证通过')
					$('font').eq(4).attr('color','#58ff97')
				}else{
					$('font').eq(4).text('密码必须6至18个字符,开头非数字')
					$('font').eq(4).attr('color','red')	
					$(this).val('')
				}	
			})
			$('#repeat').blur(function(){
				var a=$(this).val()
				if(a==''){
					$('font').text('')
					return;	
				}
				var a=$(this).val()
				console.log($('font').eq(4).text())
				if($('font').eq(4).text()=="验证通过"){
					if($('#work1').val()==a){
						$('font').eq(5).text('验证通过')
						$('font').eq(5).attr('color','#58ff97')
					}else{
						$('font').eq(5).text('两次输入的密码不一致')
						$('font').eq(5).attr('color','red')	
						$(this).val('')
					}
				}else{
					$('font').eq(5).text('密码还未通过验证')
					$('font').eq(5).attr('color','red')	
					$(this).val('')
				}
			})
			$('#email').blur(function(){
				var a=$(this).val()
				if(a==''){
					$('font').text('')
					return;	
				}
				var a=$(this).val()
				var reg=/^\w+@\w+\.\w+$/;	
				if(reg.test(a)){
					$('font').eq(2).text('验证通过')
					$('font').eq(2).attr('color','#58ff97')
				}else{
					$('font').eq(2).html('邮箱由数字,字母和下划线组成,必须<br>包含@与.')
					$('font').eq(2).attr('color','red')
					$(this).val('')
				}	
			})
			var num=0,num1=0;
			$('#log').on('click',function(){
				$('#type1 font').each(function(a,b){
					if($(b).html()=='验证通过'){
						num++;
					}
				})
				if(num==$('#type1 font').length){
							alert('登陆成功')
							window.location.href = "index.html";
						}else{
					alert('有信息验证未通过或信息填写不完整,请重新登录！');
					$('#type1 input').val('')
					$('font').text('')
				}	
			})
			$('#sign').on('click',function(){
				$('#type2 font').each(function(a,b){
					if($(b).html()=='验证通过'){
						num1++;
					}
				})
				console.log(num,$('#type2 font').length)
				if(num1==$('#type2 font').length){
							alert('注册成功')
							window.location.reload();//刷新整个页面	
						}else{
					alert('有信息验证未通过或信息填写不完整,请重新注册！');
					$('#type2 input').val('')
					$('font').text('')
				}	
			})
		</script>
	</body>
</html>
